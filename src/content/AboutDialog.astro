---
import Dialog from '../components/dialog/Dialog.astro';
import IconEnvelope from '../components/icons/IconEnvelope.astro';
import IconQuestionMark from '../components/icons/IconQuestionMark.astro';
import IconUser from '../components/icons/IconUser.astro';
import Link from '../components/Link.astro';
import { useTranslations, getLangFromUrl } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Dialog id="about-dialog" outerClass="max-w-[550px]" innerClass="sm:pl-8">
  <h2 class="mt-1 text-2xl font-bold sm:mt-0 sm:text-3xl dark:text-slate-200">
    {t('about.title')}
  </h2>

  <hr
    class="-mx-5 mb-6 mt-4 sm:-ml-8 sm:-mr-12 sm:mb-8 sm:mt-5 dark:border-slate-800"
  />
  <div class="flex gap-4">
    <IconQuestionMark
      class="hidden h-7 w-7 shrink-0 stroke-2 text-gray-400 sm:block dark:text-blue-200"
    />
    <div>
      <h3 class="mb-1 text-xl font-bold text-gray-900 dark:text-slate-200">
        {t('about.what.title')}
      </h3>
      <p class="mb-3 text-gray-700 dark:text-slate-400">
        {t('about.what.description1')}
      </p>
      <p class="mb-6 text-gray-700 sm:mb-8 dark:text-slate-400">
        {t('about.what.description2')}
      </p>
    </div>
  </div>

  <div class="flex gap-4">
    <IconUser
      class="hidden h-7 w-7 shrink-0 stroke-2 text-gray-400 sm:block dark:text-blue-200"
    />
    <div>
      <h3 class="mb-1 text-xl font-bold text-gray-900 dark:text-slate-200">
        {t('about.who.title')}
      </h3>
      <p class="mb-6 text-gray-700 sm:mb-8 dark:text-slate-400">
        {t('about.who.description')} <Link id="mvn-link" href="https://mvn.no">Morten Vaale Noddeland</Link>{t('about.who.bio')}
      </p>
    </div>
  </div>

  <div class="flex gap-4">
    <IconEnvelope
      class="hidden h-7 w-7 shrink-0 stroke-2 text-gray-400 sm:block dark:text-blue-200"
    />
    <div>
      <h3 class="mb-1 text-xl font-bold text-gray-900 dark:text-slate-200">
        {t('about.contact.title')}
      </h3>
      <p class="text-gray-700 dark:text-slate-400">
        {t('about.contact.description')} <Link id="email-link" href="mailto:morten@noddeland.no">morten@noddeland.no</Link>{t('about.contact.or')}<Link id="github-link" href="https://github.com/mortnod/instabart">{t('about.contact.github_text')}</Link>.
      </p>
    </div>
  </div>
</Dialog>
